# Primitive DB

–£—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç: –ø—Ä–∏–º–∏—Ç–∏–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Ç–∞–±–ª–∏—Ü–∞–º–∏ —á–µ—Ä–µ–∑ CLI.

–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ Python –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ –ø–∞–∫–µ—Ç.

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü–∞–º–∏

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –¥–æ—Å—Ç—É–ø–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

- `create_table <–∏–º—è> <—Å—Ç–æ–ª–±–µ—Ü:—Ç–∏–ø> ...` ‚Äî —Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É  
- `list_tables` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü  
- `drop_table <–∏–º—è>` ‚Äî —É–¥–∞–ª–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É  
- `help` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É  
- `exit` ‚Äî –≤—ã—Ö–æ–¥ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã  

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```text
$ database

***–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö***
–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É (help ‚Äî —Å–ø—Ä–∞–≤–∫–∞)

–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É: create_table users name:str age:int is_active:bool
–¢–∞–±–ª–∏—Ü–∞ "users" —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞ —Å–æ —Å—Ç–æ–ª–±—Ü–∞–º–∏: ID:int, name:str, age:int, is_active:bool

–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É: list_tables
- users

–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É: drop_table users
–¢–∞–±–ª–∏—Ü–∞ "users" —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–∞.

–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É: exit
–î–æ —Å–≤–∏–¥–∞–Ω–∏—è!


## –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, –∫–∞–∫ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–∞–∫–µ—Ç, –∞ —Ç–∞–∫–∂–µ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∫–æ–º–∞–Ω–¥—ã:
—Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã, –≤—ã–≤–æ–¥ —Å–ø–∏—Å–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ.

üëâ https://asciinema.org/a/aSZnKfpEvD0JrGKR


---

## CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏

–ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è CRUD-–∫–æ–º–∞–Ω–¥ (Create, Read, Update, Delete)
–¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ —Ç–∞–±–ª–∏—Ü —á–µ—Ä–µ–∑ CLI-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

–ü—Ä–∏–º–µ—Ä—ã –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (Insert):

insert into users values ("Sergei", 28, true)
insert into users values ("Anna", 25, false)

–ü—Ä–∏–º–µ—Ä—ã —á—Ç–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (Select):

select from users
select from users where age = 28
select from users where name = Sergei

–ü—Ä–∏–º–µ—Ä—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (Update):

update users set age = 30 where name = Sergei
update users set is_active = false where age = 30

–ü—Ä–∏–º–µ—Ä—ã —É–¥–∞–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (Delete):

delete from users where age = 28
delete from users where name = Anna

–î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –†–ê–ë–û–¢–´
https://asciinema.org/a/e8CNIoyiYOfkTkeB


---

## –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –∏ –∑–∞–º—ã–∫–∞–Ω–∏—è (—ç—Ç–∞–ø 4)

–í —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Python:
–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –∏ –∑–∞–º—ã–∫–∞–Ω–∏—è, —É–ª—É—á—à–∞—é—â–∏–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å –∫–æ–¥–∞.

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–î–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä `handle_db_errors`,
–∫–æ—Ç–æ—Ä—ã–π —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ (`KeyError`, `ValueError`,
`FileNotFoundError`) –∏ –≤—ã–≤–æ–¥–∏—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –Ω–µ –∑–∞–≤–µ—Ä—à–∞—è —Ä–∞–±–æ—Ç—É –ø—Ä–æ–≥—Ä–∞–º–º—ã.

### –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–∞—Å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

–î–µ–∫–æ—Ä–∞—Ç–æ—Ä `confirm_action` –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–µ—Ä–µ–¥
–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ–ø–∞—Å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π. –û–Ω –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ —É–¥–∞–ª–µ–Ω–∏—é —Ç–∞–±–ª–∏—Ü
–∏ —É–¥–∞–ª–µ–Ω–∏—é –∑–∞–ø–∏—Å–µ–π. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –Ω–µ `y`, –æ–ø–µ—Ä–∞—Ü–∏—è –æ—Ç–º–µ–Ω—è–µ—Ç—Å—è.

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

–î–µ–∫–æ—Ä–∞—Ç–æ—Ä `log_time` –∏–∑–º–µ—Ä—è–µ—Ç –∏ –≤—ã–≤–æ–¥–∏—Ç –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π `select`
–∏ `insert` –≤ —Ñ–æ—Ä–º–∞—Ç–µ:

–§—É–Ω–∫—Ü–∏—è <–∏–º—è_—Ñ—É–Ω–∫—Ü–∏–∏> –≤—ã–ø–æ–ª–Ω–∏–ª–∞—Å—å –∑–∞ X.XXX —Å–µ–∫—É–Ω–¥.

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ select-–∑–∞–ø—Ä–æ—Å–æ–≤

–î–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ `select` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∑–∞–º—ã–∫–∞–Ω–∏—è. –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –¥–∞–Ω–Ω—ã–µ
–∏–∑ –∫—ç—à–∞ –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.

### –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —ç—Ç–∞–ø–∞ 4

–í asciinema-–∑–∞–ø–∏—Å–∏ –ø–æ–∫–∞–∑–∞–Ω–∞ —Ä–∞–±–æ—Ç–∞ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫,
–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ select.

üëâ https://asciinema.org/a/XXg3cDsEdwFjJA4q

